<!doctype html><html lang=en><head><title>How to use local storage in java script | Racheltomi</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=keywords content="Racheltomi"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="How to Use Local Storage in JavaScript"><meta property="og:description" content="I will say I’ve never heard about local storage since I started to learn JavaScript, not until I had to build a simple project for personal development and I"><meta property="og:url" content="https://blog.racheltomi.work/post/localstorage/"><meta property="og:image" content="https://blog.racheltomi.work/images/download.png"><link rel=canonical href=https://blog.racheltomi.work/post/localstorage/><link rel=apple-touch-icon sizes=180x180 href=https://blog.racheltomi.work/images/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://blog.racheltomi.work/images/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://blog.racheltomi.work/images/icons/favicon-16x16.png><link rel=manifest href=https://blog.racheltomi.work/images/icons/site.webmanifest><link rel=stylesheet href=https://blog.racheltomi.work/css/styles.86c6da248e485cdc7f340baeb04c29cf0499e12a33a387104028f046c1d4ba15aa3ef8a4bf8f44a2fba7f0263053fa54dc4d2f2baa3d6c8ebb3c69f7bdbded2b.css integrity="sha512-hsbaJI5IXNx/NAuusEwpzwSZ4Sozo4cQQCjwRsHUuhWqPvikv49Eovun8CYwU/pU3E0vK6o9bI67PGn3vb3tKw=="><link rel=canonical href=https://blog.racheltomi.work/post/localstorage/ itemprop=url></head><body><div class=nav-drop><div class=nav-body><a href=https://blog.racheltomi.work/about/ class=nav_item>About</a>
<a href=https://blog.racheltomi.work/ class=nav_item>Blog</a>
<a href=https://blog.racheltomi.work/categories class=nav_item>Category</a>
<a href=https://blog.racheltomi.work/tags class=nav_item>Tag</a><div class=nav-close></div><div class=color_mode><label for=mode>Toggle Dark Mode</label>
<input type=checkbox class=color_choice id=mode></div></div></div><header class=nav><nav class=nav-menu><a href=https://blog.racheltomi.work/ class="nav-brand nav_item">Racheltomi</a><div class=nav_bar-wrap><div class=nav_bar></div></div></nav></header><main><div class="wrap mt post"><div><p class=post_date>20. September 2020</p><h1 class=post_title>How to Use Local Storage in JavaScript</h1><div class=post_body><div class=post_inner><img src=https://blog.racheltomi.work/images/download.png alt=download.png class=post_thumbnail><p>I will say I’ve never heard about local storage since I started to learn JavaScript, not until I had to build a simple project for personal development and I needed to store my data somewhere. The best option available was local storage and yeah, that was my first time hearing the word “local storage”.</p><p>I made a documentation of what I learnt and I’ve decided to share them with you in this article.
There are several standards available for storing data in a user web browser; Some of them are;</p><ol><li><p><strong>Cookies:</strong> Using Cookies was pretty much the only way data are stored in the browser until recently. It provides a maximum of 4kb of data storage, which means larger data can’t be stored all at once. Cookies are sent to the server for every request you make, and can be read on both client and server side, but will be in-accessible to the client-side scripts if the cookie is marked as Http only.</p></li><li><p><strong>Web SQL:</strong> Web SQL is similar to using relational databases and SQL, it involves storing data in a database and retrieving it using SQL. It has the capacity to store larger amount of data unlike cookies.</p></li><li><p><strong>Session Storage and Local Storage:</strong> These are both ways of storing data in JavaScript, the only major difference is that, data stored in session storage gets cleared when the page is refreshed or when the browser is closed, but data stored in local storage persists. It doesn’t get cleared even after the page has been refreshed.</p></li></ol><p>For the purpose of this article, I’ll be focusing more on “local storage”.</p><h3 id=local-storage><strong>Local Storage?</strong></h3><p>Local storage is basically a way of storing information locally in the browser. It has the capacity to store up to 5mb of user data and also accessible from any browser or window. Another thing to note is, local storage is domain specific,</p><p>i.e. you only have access to an information you’ve saved when you are working with the domain that holds that data.</p><p>For example; if my website is mytodos.com, and I have stored todos like “read my book”, “do my assignment”, “go to the market” in that domain, I can only have access to these todos (data) when I visit mytodos.com.</p><h3 id=how-do-i-access-my-local-storage><strong>How Do I Access My Local Storage?</strong></h3><p>Local storage can be accessed right from your web browser since all stored data are saved across browsers in JavaScript. First, you need to go to your developer tools by pressing F12, then go to the application tab, right there, you will find your local storage (F12 – application - storage – local storage – YourprojectPath ).</p><p><img src=../../images/localstorage/ls1.png alt="image 1">;</p><p>Data can be stored based on named key/value pairs, you store your data with a key and retrieve your data with that same key.
To use local storage in Js, there are methods you need to get familiar with;</p><ol><li>setItem()</li><li>getItem( )</li><li>remove( )</li><li>clear( )</li></ol><p><strong>setItem( ):</strong> This method is use to store key/value pairs to the local storage. The setItem method looks like the one we have below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s2>&#34;name&#34;</span><span class=p>,</span> <span class=s2>&#34;Tomi&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>‘name’ here is the key while ‘Tomi’ is the value. The main function of this ‘key’(‘name’) is to be able to fetch the value (‘Tomi’) attached to it later when we need it. To get back this value we have stored, we need to make use of the getItem( ) method.</p><p><strong>getItem( )</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;name&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1>//Tomi
</span></span></span></code></pre></div><p>As we can already see, getItem( ) can be used to get values already stored in the local storage by calling the key (‘name’) the value is attached to. Another point to note is that local storage has the ability to store only strings, this is because when objects or arrays are stored without been converted to strings, and the values are checked in the console, it appears that these values are only stored as objects without displaying the real object information. Okay, that might be a bit confusing, let’s take a look at this;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>Name</span><span class=o>:</span> <span class=s2>&#34;Tomi&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>Hobby</span><span class=o>:</span> <span class=s2>&#34;coding&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=nx>user</span><span class=p>));</span>
</span></span></code></pre></div><p>Now, when we check this in our console, we get something like this [object object]</p><p><img src=../../images/localstorage/ls2.png alt="image 2">;</p><p>This isn’t so useful because the real object information we need is not included. To fix this, this object has to be converted first to a string using the JSON.stringify( ) method and converted back to an object using the JSON.parse( ) method.
Let’s take a look at this example;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>Name</span><span class=o>:</span> <span class=s2>&#34;Tomi&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>Hobby</span><span class=o>:</span> <span class=s2>&#34;coding&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>user</span><span class=p>));</span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=nx>user</span><span class=p>)));</span>
</span></span></code></pre></div><p>Running this code, we get this in our console;</p><p><img src=../../images/localstorage/ls3.png alt="image 3">;</p><p>JSON.stringify( ) here has successfully converted these objects into string and we’re able to parse it back into the local storage using JSON.parse( ).
<strong>removeItem( ):</strong> Calling the removeItem( ) method removes the value of a given named key. Now, let’s try to remove the value we got earlier,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=nx>localStorage</span><span class=p>.</span><span class=nx>removeItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>If we try to get this value back using getItem(), we get //Null as the result.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1>//Null
</span></span></span></code></pre></div><p><strong>Clear( ):</strong> This method is used to clear or delete all the data already stored in local storage using localstorage.clear( ) method. This can be a little tricky, for me, what I do is go to my editor, copy all my codes and keep them somewhere or better still, comment them out. I make sure everything is cleared, then I write **localstorage.clear( ), save and reload the browser… and everything gets cleared. Now, you can go back to your editor and paste or comment out your code, save and refresh your browser and you’re good to go.
To make us understand these methods better, we are going to build a simple input page that save users name in the local storage even after the browser has been refreshed.
Let’s start with the HTML and CSS to speed things up;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=ln> 1</span><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width, initial-scale=1.0&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Local storage<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=p>&lt;</span><span class=nt>label</span> <span class=na>for</span><span class=o>=</span><span class=s>&#34;name&#34;</span><span class=p>&gt;</span>Your Name:<span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;nameTag&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;#&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;save-btn&#34;</span><span class=p>&gt;</span>Save<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;display&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>      <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;./script.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>And our index.css looks like this, nothing serious, just some paddings and colours.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln> 1</span><span class=cl><span class=nt>body</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>flex</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=k>align-items</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=k>justify-content</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=p>.</span><span class=nc>save-btn</span><span class=o>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=p>.</span><span class=nc>click-btn</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=kc>white</span><span class=p>;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.726</span><span class=p>);</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>  <span class=k>font-weight</span><span class=p>:</span> <span class=kc>bold</span><span class=p>;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>  <span class=k>padding</span><span class=p>:</span> <span class=mi>10</span><span class=kt>px</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>  <span class=k>text-decoration</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>  <span class=k>border-radius</span><span class=p>:</span> <span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span> <span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=nt>input</span><span class=o>[</span><span class=nt>type</span><span class=o>=</span><span class=s2>&#34;text&#34;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>  <span class=k>padding</span><span class=p>:</span> <span class=mi>10</span><span class=kt>px</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>  <span class=k>width</span><span class=p>:</span> <span class=mi>30</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=p>.</span><span class=nc>display</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>  <span class=k>font-weight</span><span class=p>:</span> <span class=kc>bold</span><span class=p>;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Moving to the JavaScript, first let’s define our variables.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>inputTag</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;nameTag&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=kr>const</span> <span class=nx>saveButton</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s2>&#34;.save-btn&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=kr>const</span> <span class=nx>Display</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s2>&#34;.display&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>Now that our variables have been defined, we can then make our button clickable by adding EventListeners.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=nx>saveButton</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;click&#34;</span><span class=p>,</span> <span class=nx>saveBtn</span><span class=p>);</span>
</span></span></code></pre></div><p>Since our saveBtn haven’t been defined, we have to use this function to execute our plan to make our button clickable and our input value visible on our browser.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kd>function</span> <span class=nx>saveBtn</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>event</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=kr>const</span> <span class=nx>displayName</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;p&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>  <span class=nx>displayName</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=s2>&#34;showName&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>  <span class=nx>displayName</span><span class=p>.</span><span class=nx>innerText</span> <span class=o>=</span> <span class=nx>inputTag</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>  <span class=nx>Display</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>displayName</span><span class=p>);</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>8</span><span class=cl><span class=nx>saveBtn</span><span class=p>();</span>
</span></span></code></pre></div><p>What we’ve successfully done here is that we created another element within our html using createElement(which is our tag), we added a new class and then called our html input value using inputTag.value and finally appended this value to the display div.
Now that we are able to display our input value, the next step is to save this input value in our browser local storage. To achieve this, the first thing to do is call the DOMContentLoaded event.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;DOMContentLoaded&#34;</span><span class=p>,</span> <span class=nx>showSavedResult</span><span class=p>);</span>
</span></span></code></pre></div><p>This event runs when all the page’s DOM content has been loaded and parsed. Its target doesn’t include external resources like styles, images and so on, it sees the styles and images but doesn’t wait for them to completely load. So, this is the exact event that holds our local storage function, so it doesn’t get cleared even after the browser has been reloaded.
Let’s move on to define our ‘showSavedResult’ function;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln> 1</span><span class=cl><span class=kd>function</span> <span class=nx>saveName</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=kd>let</span> <span class=nx>results</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;results&#34;</span><span class=p>)</span> <span class=o>===</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=nx>results</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nx>results</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s2>&#34;results&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nx>results</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>inputTag</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s2>&#34;results&#34;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>results</span><span class=p>));</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Basically, what this code does is, it checks first if we already have an array stored in the local storage, if we don’t, it creates an empty array ( results = [ ]; ) and if we already have an array, we parse back our array and push our values into this empty array. We then set it back to a string using the setItem( ) and JSON.stringify( ) method. For this code to run successfully, we have to call our saveName function inside the main function,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kd>function</span> <span class=nx>saveBtn</span><span class=p>(</span><span class=nx>event</span><span class=p>){</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>    <span class=nx>event</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>   <span class=err>…</span>
</span></span><span class=line><span class=ln>4</span><span class=cl> <span class=nx>saveName</span><span class=p>();</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>By now, we should be seeing our arrays in the local storage, and we’ll also notice that our small data doesn’t get cleared in the local storage if we try to refresh our browser.</p><p><img src=../../images/localstorage/ls4.png alt="image 4">;</p><p>Yes, we have successfully stored our small data in our local storage.</p><h2 id=conclusion><strong>Conclusion</strong></h2><p>Local storage is not limited to what I’ve written above, but I hope it’s able to give you the basic understanding you need to make use of your local storage. With the lesson, we should be able to set an item to the local storage, get back our item, remove our item and also get to clear all data present in the local storage.
Feel free to leave a comment or share if this post was helpful to you.</p></div><div class="post_extra mb-2"><div class=copy data-before="Share Story" data-after="Link Copied"><svg class="icon"><use xlink:href="#copy"/></svg></div></div><div></div></div></div><a href=https://blog.racheltomi.work/ class=post_nav><span class=post_next>The Latest<svg class="icon icon_scale"><use xlink:href="#double-arrow"/></svg></span></a></div></main><footer class="footer wrap pale"><p>&copy;&nbsp;<span class=year></span>&nbsp;Racheltomi</p><p class="attribution upcase">Designed by <a href='<no value>' target=_blank title='Linkedin Profile' rel=nonopener><no value></a></p></footer><script src=https://blog.racheltomi.work/js/index.min.c9473a167552bd6f0432bfd3e4e4f4480f95e28f04200ce6191200d164502610cacd4d495aecdc27ba249b73b853346762c823f2ff73ec8461058c16d36dba94.js></script><svg width="0" height="0" class="hidden"><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 699.428 699.428" id="copy"><path d="M502.714.0H240.428C194.178.0 153 42.425 153 87.429l-25.267.59c-46.228.0-84.019 41.834-84.019 86.838V612c0 45.004 41.179 87.428 87.429 87.428H459c46.249.0 87.428-42.424 87.428-87.428h21.857c46.25.0 87.429-42.424 87.429-87.428v-349.19L502.714.0zM459 655.715H131.143c-22.95.0-43.714-21.441-43.714-43.715V174.857c0-22.272 18.688-42.993 41.638-42.993l23.933-.721v393.429C153 569.576 194.178 612 240.428 612h262.286c0 22.273-20.765 43.715-43.714 43.715zm153-131.143c0 22.271-20.765 43.713-43.715 43.713H240.428c-22.95.0-43.714-21.441-43.714-43.713V87.429c0-22.272 20.764-43.714 43.714-43.714H459c-.351 50.337.0 87.975.0 87.975.0 45.419 40.872 86.882 87.428 86.882H612v306zm-65.572-349.715c-23.277.0-43.714-42.293-43.714-64.981V44.348L612 174.857h-65.572zm-43.714 131.537H306c-12.065.0-21.857 9.77-21.857 21.835s9.792 21.835 21.857 21.835h196.714c12.065.0 21.857-9.771 21.857-21.835.0-12.065-9.792-21.835-21.857-21.835zm0 109.176H306c-12.065.0-21.857 9.77-21.857 21.834.0 12.066 9.792 21.836 21.857 21.836h196.714c12.065.0 21.857-9.77 21.857-21.836.0-12.064-9.792-21.834-21.857-21.834z"/></symbol><symbol viewBox="0 0 53 42" xmlns="http://www.w3.org/2000/svg" id="double-arrow"><path d="M.595 39.653a1.318 1.318.0 010-1.864L16.55 21.833a1.318 1.318.0 000-1.863L.595 4.014a1.318 1.318.0 010-1.863L2.125.62a1.318 1.318.0 011.864.0l19.35 19.349a1.318 1.318.0 010 1.863l-19.35 19.35a1.318 1.318.0 01-1.863.0zm29 0a1.318 1.318.0 010-1.864L45.55 21.833a1.318 1.318.0 000-1.863L29.595 4.014a1.318 1.318.0 010-1.863l1.53-1.53a1.318 1.318.0 011.864.0l19.35 19.349a1.318 1.318.0 010 1.863l-19.35 19.35a1.318 1.318.0 01-1.863.0z"/></symbol></svg></body></html>